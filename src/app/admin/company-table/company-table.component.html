<p-confirmDialog></p-confirmDialog>
<p-toast></p-toast>



<div class="container my-4">
    <div class="row my-4 ">
        <h2 class="col-8">Company List</h2>
        <div class="ml-auto col-4">
            <a class="btn btn-info form-control" routerLink="0"><i class="fa fa-plus"></i>&nbsp;
                Add</a>
        </div>
    </div>
    <p-table [value]="companyList" selectionMode="single" [paginator]="true" [rows]="rows" [totalRecords]="totalRecords" [lazy]="true"
    (onPage)="onPageChange($event)" [loading]="loading" showGridlines [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header">
            <tr>
                <th>Index</th>
                <th>Company Name</th>
                <th>Address</th>
                <th>City</th>
                <th>State</th>
                <th>Country</th>
                <th>GSTIN</th>
                <th>CIN</th>
                <th>Actions</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-cp let-i="rowIndex">
            <tr>
                <td> {{ i + 1 }}</td>
                <td> {{ cp.companyName }}</td>
                <td> {{ cp.addressLine1 }} {{ cp.addressLine2 }}</td>
                <td> {{ cp.city }}</td>
                <td> {{ cp.state }}</td>
                <td> {{ cp.country }}</td>
                <td> {{ cp.gstin }}</td>
                <td> {{ cp.cin }}</td>
                <td>
                    <div
                        style="display: flex; flex-direction: row; flex-wrap: nowrap; width: fit-content; background: none; justify-content: space-evenly; width: 100%;">
                        <a class="btn btn-outline-info" routerLink="/company/{{ cp.companyId }}/employeeTable/"
                            style="width: fit-content; min-width: fit-content; border-radius: 100px;"><i
                                class="fa-solid fa-users"></i></a>
                        <a class="btn btn-outline-success" routerLink="/companyEmployee/{{ cp.companyId }}"
                            routerLink="{{ cp.companyId}}"
                            style="width: fit-content; min-width: fit-content; border-radius: 100px;"><i
                                class="fa-solid fa-edit"></i></a>
                        <button class="btn btn-outline-danger" 
                            style="width: fit-content; min-width: fit-content; border-radius: 100px;" (click)="confirmDelete(cp.companyId)"><i
                                class="fa-solid fa-trash-alt"></i></button>
                    </div>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>